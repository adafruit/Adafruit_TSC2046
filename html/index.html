<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Adafruit TSC2046 Touchscreen Arduino Library: TI TSC2046 Resistive Touchscreen Library.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Adafruit TSC2046 Touchscreen Arduino Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TI TSC2046 Resistive Touchscreen Library. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>This is a library for the TI TSC2046 resistive touchscreen.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_adafruit___t_s_c2046.html" title="Class for interfacing with a TSC2046 touchscreen controller. ">Adafruit_TSC2046</a> </dd>
<dd>
<a class="el" href="class_adafruit___t_s_c2046.html#af040c1389112b9c9c7edb66a57b7104c" title="Initialize this TSC2046 using SPI. You must call this method before calling Adafruit_TSC2046::getPoin...">Adafruit_TSC2046::begin</a> </dd>
<dd>
<a class="el" href="class_adafruit___t_s_c2046.html#afab4c7c097485a68001f8cfdcb3b0bf2" title="Gets the coordinates of the the current touch on the touchscreen. Use Adafruit_TSC2046::isTouched to ...">Adafruit_TSC2046::getPoint</a> </dd>
<dd>
<a class="el" href="class_t_s_point.html" title="The type returned by Adafruit_TSC2046::getPoint. ">TSPoint</a></dd></dl>
<h1><a class="anchor" id="author"></a>
Author</h1>
<p>Written by Qyriad <a href="#" onclick="location.href='mai'+'lto:'+'qyr'+'ia'+'d@q'+'yr'+'iad'+'.m'+'e'; return false;">qyria<span style="display: none;">.nosp@m.</span>d@qy<span style="display: none;">.nosp@m.</span>riad.<span style="display: none;">.nosp@m.</span>me</a>, 2023.</p>
<h1><a class="anchor" id="license"></a>
License</h1>
<p>MIT license. All text above must be included in any redistribution.</p>
<h1><a class="anchor" id="usage"></a>
Usage</h1>
<h2><a class="anchor" id="connecting"></a>
Connecting the breakout</h2>
<p>Adafruit's TSC2046 breakout board will have 11 pins. At least 6 of those pins must be connected to use the touchscreen: Vin, GND, SCK, MISO, MOSI, and CS. Vin should be connected to <code>+5V</code> for 5V boards like the Arduino Uno, and <code>+3V3</code> for 3.3V boards like the MKR Zero. You can find the voltage of your board in the "Tech Specs" section of the documentation for that board under "I/O Voltage".</p>
<p>The other 5 pins should be connected as follows:</p>
<table class="doxtable">
<tr>
<th>TSC2046 Breakout Pin </th><th>Arduino Pin  </th></tr>
<tr>
<td>GND </td><td>GND </td></tr>
<tr>
<td>SCK </td><td>SCK </td></tr>
<tr>
<td>MISO </td><td>CIPO </td></tr>
<tr>
<td>MOSI </td><td>COPI </td></tr>
<tr>
<td>CS </td><td>SS </td></tr>
</table>
<p>Check the pinout for your board to see which pin numbers these correspond to. As an example, on the Arduino Uno, SCK, MISO, MOSI, and CS would be connected to D13, D12, D11, and D10 respectively.</p>
<h3><a class="anchor" id="irq_pin"></a>
The IRQ Pin</h3>
<p>The IRQ pin can be used to trigger an interrupt service routine whenever the touchscreen detects a touch. To do this, connect the IRQ pin to a digital pin on your Arduino board (see <a href="https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/">Adafruit's documentation</a> on interrupts for what pins are usable for interrupts for each board), and "attach" the interrupt to an interrupt service routine. Again see Adafruit's documentation on <a href="https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/">attachInterrupt</a> for more information, and see <a class="el" href="class_adafruit___t_s_c2046.html#a93b2a6909c613d6df939ba8d23f945fd" title="Enables or disables interrupts that fire when the touchscreen is touched. When an interrupt fires...">Adafruit_TSC2046::enableInterrupts</a> for information on the TSC2046's interrupts specifically.</p>
<h3><a class="anchor" id="vbat_pin"></a>
The Vbat Pin</h3>
<p>The Vbat pin can be used to measure some other voltage external to the touchscreen, though as the name suggests it is intended to measure a battery. To do this, connect the positive terminal of your battery to the Vbat pin, and the negative terminal to a common ground (GND), and call <a class="el" href="class_adafruit___t_s_c2046.html#ad211f30533df616f1150034d4b9d576a" title="Reads the voltage on the &quot;VBat&quot; pin, in volts. ">Adafruit_TSC2046::readBatteryVoltage</a> to get its voltage. You can measure voltages (inclusively) between 0V and 6V this way.</p>
<h3><a class="anchor" id="aux_pin"></a>
The AUX Pin</h3>
<p>The AUX pin, like the Vbat pin, can be used to measure some other voltage external to the touchscreen. Unlike Vbat, however, the maximum voltage this pin can measure is determined by the reference voltage, which by default is 2.5V. To measure higher voltages with this pin, take a look at the next paragraph which talks about VRef.</p>
<h3><a class="anchor" id="vref_pin"></a>
The VRef pin</h3>
<p>The VRef pin can be used to override the "reference voltage" that the TSC2046 uses to measure other voltages. The TSC2046 has an internal reference voltage of 2.5V that by default we use when measuring temperature, Vbat, and AUX voltages. Connecting a 5V supply to the VRef pin instead will allow us to use that as the reference voltage, which will increase the <em>accuracy</em> of voltage reads for temperature, Vbat, and AUX; and will also increase the <em>range</em> of voltage reads for AUX.</p>
<p>However, and this is important, if you connect something to the VRef pin, you must connect VRef to <b>the same thing you connected Vin to.</b></p>
<p>If you <em>do</em> override the reference voltage, pass the voltage you're giving it as <a class="el" href="class_adafruit___t_s_c2046.html#af040c1389112b9c9c7edb66a57b7104c" title="Initialize this TSC2046 using SPI. You must call this method before calling Adafruit_TSC2046::getPoin...">Adafruit_TSC2046::begin</a>'s <code>vRef</code> parameter.</p>
<h2><a class="anchor" id="code"></a>
Using the library</h2>
<p>Once you have your board connected up, interacting with it will be done with the <a class="el" href="class_adafruit___t_s_c2046.html" title="Class for interfacing with a TSC2046 touchscreen controller. ">Adafruit_TSC2046</a> class. First create an instance of this class (likely as a global variable), then call <a class="el" href="class_adafruit___t_s_c2046.html#af040c1389112b9c9c7edb66a57b7104c" title="Initialize this TSC2046 using SPI. You must call this method before calling Adafruit_TSC2046::getPoin...">Adafruit_TSC2046::begin</a> (usually in <code>setup()</code>. With that, you can call <a class="el" href="class_adafruit___t_s_c2046.html#a2673d6f70694d5ad3c3a13870e4e0d49" title="Determines if the touchscreen is currently being touched. The X and Y coordinates returned by Adafrui...">Adafruit_TSC2046::isTouched</a> to check if the touchscreen is being touched, and then call <a class="el" href="class_adafruit___t_s_c2046.html#afab4c7c097485a68001f8cfdcb3b0bf2" title="Gets the coordinates of the the current touch on the touchscreen. Use Adafruit_TSC2046::isTouched to ...">Adafruit_TSC2046::getPoint</a> to get the coordinates of the current touch. <a class="el" href="class_adafruit___t_s_c2046.html#afab4c7c097485a68001f8cfdcb3b0bf2" title="Gets the coordinates of the the current touch on the touchscreen. Use Adafruit_TSC2046::isTouched to ...">Adafruit_TSC2046::getPoint</a> returns a <a class="el" href="class_t_s_point.html">TSPoint</a> object, which contains the direct X and Y coordinates as <code>point.x</code> and <code>point.y</code>. You may also get the X and Y coordinates as percentages with <code>point.xPercent()</code> and <code>point.yPercent()</code>. The pressure is in <code>point.z</code>, and its value <em>decreases</em> as physical pressure <em>increases</em>.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="class_adafruit___t_s_c2046.html#af040c1389112b9c9c7edb66a57b7104c" title="Initialize this TSC2046 using SPI. You must call this method before calling Adafruit_TSC2046::getPoin...">Adafruit_TSC2046::begin</a> has one particularly notable required parameter, <code>xResistance</code> — the value you pass here is something you must measure with a multimeter. Set your multimeter to measure resistance, place one probe on the pin-hole labeled "X-" on your TSC2046 breakout board, and place the other probe on the pin-hole labled "X+". Your multimeter should show you a number in ohms (Ω), the unit for resistance. Pass that number as the <code>xResistance</code> argument. If your multimeter gives you a value in kilohms (kΩ), divide that number by 1000 to get ohms and pass that value for the <code>xResistance</code> argument. If you do not have a multimeter or otherwise don't have a measurement, <code>400</code> (400Ω) is a reasonable value to use here, though note that the pressure measurements returned by <a class="el" href="class_adafruit___t_s_c2046.html#afab4c7c097485a68001f8cfdcb3b0bf2" title="Gets the coordinates of the the current touch on the touchscreen. Use Adafruit_TSC2046::isTouched to ...">Adafruit_TSC2046::getPoint</a> may not be accurate in that case.</dd></dl>
<p>Below is a simple example; a more complete example can be found in the <code>examples/</code> directory.</p>
<div class="fragment"><div class="line"><a class="code" href="class_adafruit___t_s_c2046.html">Adafruit_TSC2046</a> touchscreen;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> setup() {</div><div class="line">  touchscreen.<a class="code" href="class_adafruit___t_s_c2046.html#af040c1389112b9c9c7edb66a57b7104c">begin</a>(400); <span class="comment">// 400 ohms measured between X- and X+.</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> loop() {</div><div class="line">  <span class="keywordflow">if</span> (touchscreen.<a class="code" href="class_adafruit___t_s_c2046.html#a2673d6f70694d5ad3c3a13870e4e0d49">isTouched</a>()) {</div><div class="line">    <a class="code" href="class_t_s_point.html">TSPoint</a> point = touchscreen.<a class="code" href="class_adafruit___t_s_c2046.html#afab4c7c097485a68001f8cfdcb3b0bf2">getPoint</a>();</div><div class="line">    Serial.print(<span class="stringliteral">&quot;X, Y, Z: &quot;</span>);</div><div class="line">    Serial.print(point.<a class="code" href="class_t_s_point.html#a2be8152ceb7977dfcfadcd8b70d24343">xPercent</a>());</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, &quot;</span>);</div><div class="line">    Serial.print(point.<a class="code" href="class_t_s_point.html#a81330d78f1d4e18cd7db6cf734e7aa31">yPercent</a>());</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, &quot;</span>);</div><div class="line">    Serial.println(point.<a class="code" href="class_t_s_point.html#a681390621eb919102912a54ad376d736">z</a>);</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_adafruit___t_s_c2046.html" title="Class for interfacing with a TSC2046 touchscreen controller. ">Adafruit_TSC2046</a> </dd>
<dd>
<a class="el" href="class_adafruit___t_s_c2046.html#af040c1389112b9c9c7edb66a57b7104c" title="Initialize this TSC2046 using SPI. You must call this method before calling Adafruit_TSC2046::getPoin...">Adafruit_TSC2046::begin</a> </dd>
<dd>
<a class="el" href="class_adafruit___t_s_c2046.html#afab4c7c097485a68001f8cfdcb3b0bf2" title="Gets the coordinates of the the current touch on the touchscreen. Use Adafruit_TSC2046::isTouched to ...">Adafruit_TSC2046::getPoint</a> </dd>
<dd>
<a class="el" href="class_t_s_point.html" title="The type returned by Adafruit_TSC2046::getPoint. ">TSPoint</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
